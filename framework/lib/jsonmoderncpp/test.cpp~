#include "json.hpp"
#include <iostream>
#include <iomanip>

using json = nlohmann::json;

int main(void)
{
    char text[] = R"(
{
    "attributes" : {
        "aPosition" : "geometry[${geometryUuid}].position"
    },

    "techniques" : [{ "passes" : [{ "vertexShader" : "", "fragmentShader" : "" }] }]
}
)";
    
    json j = json::parse(text);
    json j2 = json::parse(text);
    
    json emptyarray = j.value("techniques", json::string());
    json techniques = j2.value("techniques", json::array());
    std::cout << "JSON CONTENT : " << std::setw(4) << j << std::endl;
    std::cout << "TECHNIQUES CONTENT : " + emptyarray.dump() << std::endl;
    std::cout << "TECHNIQUES CONTENT : " + techniques.dump() << std::endl;
    return 0;
}
